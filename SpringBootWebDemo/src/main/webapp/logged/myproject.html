<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>我的项目</title>
	<link rel="stylesheet" href="../public/css/reset.css">
	<link rel="stylesheet" href="../public/css/myproject.css">
</head>
<body>
	<header>
		<div class="header-top-bar">
			
			<div class="container">
				<nav>
					<ul class="nav-ul">
						<li class="pull-left"><a href="index.html">首页</a></li>			
						<li class="pull-left"><a href="policy.html">科技时政</a></li>
						<li class="pull-left"><a href="notice.html">通知公告</a></li>
						<li class="pull-left"><a href="achievements.html">科研成果</a></li>
						<li class="pull-left"><a href="##">科研项目</a></li>
						<li class="pull-left"><a href="info.html">了解我们</a></li>
					</ul>
				</nav>
				<div class="pull-right log" id="log">
					<a href="javascript:;" id="name">请登录</a><img src="../public/images/sanjiao.png" alt="">
					
					<div class="box" id="box">
						<ul>
							<li><a href="report.html">申报项目</a></li>
							<li><a href="myproject.html">我的科研项目</a></li>
							<li><span></span></li>
							<li><a href="">修改密码</a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
		<div class="head">
			<div class="container">
				<div class="head-title"><p>我的科研项目</p></div>
			</div>
		</div>
	</header><!-- header end -->
	
	<div class="content container">
		<div class="position">
			<span>位置></span>
			<a href="">我的科研项目</a>
		</div>
		<form action="#" class="search">
	        <div class="form-group">
	          <!-- <input type="text" class="form-control pull-left" placeholder="按条件查询..."> -->
	          <input list="conditions" name="condition" class="condition pull-left" placeholder="按条件查询...">
	          <datalist id="conditions">
			  <option value="查询所有">
			  <option value="审核通过">
			  <option value="最近一月">	  
			</datalist>
	        </div>
	        <button type="submit" class="btn">查询</button>	
		</form>
	</div><!-- header end -->
	
	<div class="content-table container">
		<table class="table" id="table" >
			<thead>
				<tr>
					<th>序号</th>
					<th>时间</th>
					<th>项目标题</th>
					<th>审核状态</th>
					<th>操作</th>
				</tr>
			</thead>
			<tbody id="tbody">
				<tr>
					<td></td>
					<td>2016-7-14</td>
					<td>sssssssssssssssssssssssss</td>
					<td>已审核</td>
					<td>
						<button class="edit">修改</button>
						<button class="del">删除</button>
					</td>
				</tr>
				<tr>
					<td></td>
					<td>2016-7-14</td>
					<td>水水水水水水水水水水水水水水</td>
					<td>未审核</td>
					<td>
						<button class="edit">修改</button>
						<button class="del">删除</button>
					</td>

				</tr>
				<tr>
					<td></td>
					<td>2016-7-14</td>
					<td>AAAAAAAAAAAAAAAA</td>
					<td>审核通过</td>
					<td>
						<button class="edit">修改</button>
						<button class="del">删除</button>
					</td>

				</tr>
				<tr>
					<td></td>
					<td>2016-7-14</td>
					<td>sssssssssssssssssssssssss</td>
					<td>已审核</td>
					<td>
						<button class="edit">修改</button>
						<button class="del">删除</button>
					</td>
				</tr>
				<tr>
					<td></td>
					<td>2016-7-14</td>
					<td>水水水水水水水水水水水水水水</td>
					<td>未审核</td>
					<td>
						<button class="edit">修改</button>
						<button class="del">删除</button>
					</td>

				</tr>
				<tr>
					<td></td>
					<td>2016-7-14</td>
					<td>AAAAAAAAAAAAAAAA</td>
					<td>审核通过</td>
					<td>
						<button class="edit">修改</button>
						<button class="del">删除</button>
					</td>

				</tr>
				<tr>
					<td></td>
					<td>2016-7-14</td>
					<td>sssssssssssssssssssssssss</td>
					<td>已审核</td>
					<td>
						<button class="edit">修改</button>
						<button class="del">删除</button>
					</td>
				</tr>
				<tr>
					<td></td>
					<td>2016-7-14</td>
					<td>水水水水水水水水水水水水水水</td>
					<td>未审核</td>
					<td>
						<button class="edit">修改</button>
						<button class="del">删除</button>
					</td>

				</tr>
				<tr>
					<td></td>
					<td>2016-7-14</td>
					<td>AAAAAAAAAAAAAAAA</td>
					<td>审核通过</td>
					<td>
						<button class="edit">修改</button>
						<button class="del">删除</button>
					</td>

				</tr>
				<tr>
					<td></td>
					<td>2016-7-14</td>
					<td>sssssssssssssssssssssssss</td>
					<td>已审核</td>
					<td>
						<button class="edit">修改</button>
						<button class="del">删除</button>
					</td>
				</tr>
				<tr>
					<td></td>
					<td>2016-7-14</td>
					<td>水水水水水水水水水水水水水水</td>
					<td>未审核</td>
					<td>
						<button class="edit">修改</button>
						<button class="del">删除</button>
					</td>

				</tr>
				<tr>
					<td></td>
					<td>2016-7-14</td>
					<td>AAAAAAAAAAAAAAAA</td>
					<td>审核通过</td>
					<td>
						<button class="edit">修改</button>
						<button class="del">删除</button>
					</td>

				</tr>
				<tr>
					<td></td>
					<td>2016-7-14</td>
					<td>sssssssssssssssssssssssss</td>
					<td>已审核</td>
					<td>
						<button class="edit">修改</button>
						<button class="del">删除</button>
					</td>
				</tr>
				
				

				
			</tbody>
		</table>
		<div class="paging" id="paging">
			
		</div>
	</div>


	<footer>
		<div class="href-1 ">
				<p>友情链接</p>
			</div>
			<div class="foot-1">
				
			</div>
	</footer><!-- footers end -->

	<script type="application/javascript" src="/js/bootstrap.min.js"></script>
	<script type="application/javascript" src="/js/jquery.min.js"></script>
	<script type="application/javascript" src="/js/jquery.cookie.js"></script>

	<script>
		document.write( "<script language=javascript src='../public/js/box.js'><\/script>");
			window.onload=function(){

				$("#name").text($.cookie("user_name"));


				var tbody=document.getElementById('tbody');
				var atr=tbody.getElementsByTagName('tr');
				var pages=Math.ceil(atr.length/12);
				
				var paging=document.getElementById('paging');
				for(var i=0;i<atr.length;i++){
					atr[i].firstElementChild.innerHTML=i+1;

				}
				//分页，添加页码
				for(var i=1;i<=pages;i++){

					// a[0].style.backgroundColor="";		
					// a[0].style.color="#252525";

					if(pages>6){
					
						for(var i=1;i<=5;i++){
							var nodeA=document.createElement("a");
							var textNode=document.createTextNode(i);
							nodeA.appendChild(textNode);
							paging.appendChild(nodeA);

						}

						var a=paging.getElementsByTagName('a');
						a[0].style.backgroundColor="#fa3e3e";
						a[0].style.color="#ffffff";
						

						var nodeS=document.createElement("span");
						var ellipsis=document.createTextNode('...');
						nodeS.appendChild(ellipsis);
						paging.appendChild(nodeS);

						var nodeAEnd=document.createElement("a");
						var textEnd=document.createTextNode(pages);
						nodeAEnd.appendChild(textEnd);
						paging.appendChild(nodeAEnd);
						break;					
					}
					if(pages<=6){
						for(var i=1;i<=pages;i++){
							var nodeA=document.createElement("a");
							var textNode=document.createTextNode(i);
							nodeA.appendChild(textNode);
							paging.appendChild(nodeA);

						}
						var a=paging.getElementsByTagName('a');
						a[0].style.backgroundColor="#fa3e3e";
						a[0].style.color="#ffffff";
						for(var i=12;i<atr.length;i++){
							atr[i].style.display='none';
						}
						
					}
				}
				
				
				function page(){
					var a=paging.getElementsByTagName("a");
					
					for(var j=0;j<a.length;j++){
						
						a[j].onclick=function(){
							var num=parseInt(this.innerHTML);
							if(num<=5){
								if(pages>6){
									paging.innerHTML='';
									var num=parseInt(num);
									for(var i=1;i<=5;i++){
										var nodeA=document.createElement("a");
										var textNode=document.createTextNode(i);
										nodeA.appendChild(textNode);
										paging.appendChild(nodeA);
									}
									var nodeS=document.createElement("span");
									var ellipsis=document.createTextNode('...');
									nodeS.appendChild(ellipsis);
									paging.appendChild(nodeS);

									var nodeAEnd=document.createElement("a");
									var textEnd=document.createTextNode(pages);
									nodeAEnd.appendChild(textEnd);
									paging.appendChild(nodeAEnd);


									var index=parseInt(num-1);
									a[index].style.backgroundColor="#fa3e3e";		
									a[index].style.color="#ffffff";
								}
								else{
									for(var i=0;i<a.length;i++){
										a[i].style.backgroundColor="";		
										a[i].style.color="#252525";
									}
									var index=parseInt(num-1);
									a[index].style.backgroundColor="#fa3e3e";		
									a[index].style.color="#ffffff";
								}
								
							}
							if(num>=5&&num<=pages-5){
								paging.innerHTML='';
								var nodeAFirst=document.createElement('a');
								var textFirst=document.createTextNode('1');
								nodeAFirst.appendChild(textFirst);
								paging.appendChild(nodeAFirst);


								var nodeS=document.createElement("span");
								var ellipsis=document.createTextNode('...');
								nodeS.appendChild(ellipsis);
								paging.appendChild(nodeS);
								
								
							
								for(var i=num-2;i<=num+2;i++){
									var nodeA=document.createElement("a");
									var textNode=document.createTextNode(i);
									nodeA.appendChild(textNode);
									paging.appendChild(nodeA);
								}

								var nodeS=document.createElement("span");
								var ellipsis=document.createTextNode('...');
								nodeS.appendChild(ellipsis);
								paging.appendChild(nodeS);

								var nodeAEnd=document.createElement("a");
								var textEnd=document.createTextNode(pages);
								nodeAEnd.appendChild(textEnd);
								paging.appendChild(nodeAEnd);

								a[3].style.backgroundColor="#fa3e3e";		
								a[3].style.color="#ffffff";	
							}
							
							if(num>pages-5){
								if(pages>6){
									paging.innerHTML='';
									var nodeAFirst=document.createElement('a');
									var textFirst=document.createTextNode('1');
									nodeAFirst.appendChild(textFirst);
									paging.appendChild(nodeAFirst);


									var nodeS=document.createElement("span");
									var ellipsis=document.createTextNode('...');
									nodeS.appendChild(ellipsis);
									paging.appendChild(nodeS);	

									
									for(var i=num-5+pages-num;i<=pages;i++){
										var nodeA=document.createElement("a");
										var textNode=document.createTextNode(i);
										nodeA.appendChild(textNode);
										paging.appendChild(nodeA);
									}
									
									var index=parseInt(num-1);
									a[7-pages+index].style.backgroundColor="#fa3e3e";		
									a[7-pages+index].style.color="#ffffff";
								}
								if(num==6){
									for(var i=0;i<a.length;i++){
										a[i].style.backgroundColor="";		
										a[i].style.color="#252525";
									}
								
									a[5].style.backgroundColor="#fa3e3e";		
									a[5].style.color="#ffffff";
								}
							}			
							numTr=atr.length;
							if(num===1){
								for(var i=(num-1)*12;i<num*12;i++){
									
									atr[i].style.display='table-row';

								}
								for(var i=12;i<numTr;i++){
									atr[i].style.display='none';

								}
							}
							if(num>1&&num<numTr){
								for(var i=0;i<(num-1)*12;i++){
									atr[i].style.display='none';

								}
								for(var i=(num-1)*12;i<num*12;i++){

									atr[i].style.display='table-row';


								}
								for(var i=num*12;i<numTr;i++){
									atr[i].style.display='none';

								}
							}
							if(num===pages){
								for(var i=0;i<(num-1)*12;i++){
									atr[i].style.display='none';

								}
								for(var i=(num-1)*12;i<numTr;i++){
									atr[i].style.display='table-row';

								}
							}
							page();
						}
						
					}
				}
				page();
				
					
			}
			
	</script>
</body>
</html>